"use strict";var __decorate=this&&this.__decorate||function(e,t,r,i){var a,o=arguments.length,n=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(n=(o<3?a(n):o>3?a(t,r,n):a(t,r))||n);return o>3&&n&&Object.defineProperty(t,r,n),n},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},core_1=require("@angular/core"),forms_1=require("@angular/forms"),core_2=require("@angular2-material/core"),button_1=require("@angular2-material/button"),toolbar_1=require("@angular2-material/toolbar"),card_1=require("@angular2-material/card"),input_1=require("@angular2-material/input"),radio_1=require("@angular2-material/radio"),icon_1=require("@angular2-material/icon"),event_service_1=require("../services/event-service"),EventCmp=function(){function e(e,t){this._eventService=t,this.title="Events list",this.events=[],this.sessionFlag=!1,this.createEvent=!1,this.times=[],this.statusValue="",this.eventForm=e.group({eventTitle:["",forms_1.Validators.required],description:["",forms_1.Validators.required],eventStart:["",forms_1.Validators.required],eventEnd:["",forms_1.Validators.required],seats:["",forms_1.Validators.required],status:["",forms_1.Validators.required],limit:["",forms_1.Validators.required],time:[""]})}return e.prototype.ngOnInit=function(){this._getAll()},e.prototype._getAll=function(){var e=this;this._eventService.getAll().subscribe(function(t){e.events=t})},e.prototype.add=function(e){var t=this;this._eventService.add(e).subscribe(function(e){t.events.push(e),t.eventForm.controls.eventTitle.updateValue(""),t.eventForm.controls.eventStart.updateValue(""),t.eventForm.controls.description.updateValue(""),t.eventForm.controls.eventEnd.updateValue(""),t.eventForm.controls.seats.updateValue(""),t.eventForm.controls.time.updateValue(""),t.eventForm.controls.status.updateValue(""),t.times=[],t.sessionFlag=!1,t.createEvent=!1,t.statusValue="Status"})},e.prototype.addStatus=function(e){e&&(this.statusValue=e,this.eventForm.controls.status.updateValue(this.statusValue))},e.prototype.addTime=function(e){this.times.push(e),this.eventForm.controls.time.updateValue(this.times)},e.prototype.remove=function(e){var t=this;this._eventService.remove(e).subscribe(function(){t.events.forEach(function(r,i){if(r._id===e)return t.events.splice(i,1)})})},e=__decorate([core_1.Component({selector:"event-cmp",templateUrl:"event/templates/event.html",styleUrls:["event/styles/event.css"],directives:[forms_1.REACTIVE_FORM_DIRECTIVES,button_1.MD_BUTTON_DIRECTIVES,toolbar_1.MD_TOOLBAR_DIRECTIVES,card_1.MD_CARD_DIRECTIVES,input_1.MD_INPUT_DIRECTIVES,radio_1.MD_RADIO_DIRECTIVES,icon_1.MdIcon],providers:[event_service_1.EventService,icon_1.MdIconRegistry,core_2.MdUniqueSelectionDispatcher]}),__metadata("design:paramtypes",[forms_1.FormBuilder,event_service_1.EventService])],e)}();exports.EventCmp=EventCmp;